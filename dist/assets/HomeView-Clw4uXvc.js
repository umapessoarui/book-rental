import{s as M}from"./bookServices-LI-ppAcb.js";import{B as S}from"./BookCard-Dgzsq2fQ.js";import{d as C,r as l,k as H,c as x,h as D,a as r,o as t,F as c,j as v,e as h,l as E,n as W}from"./index-f-nKyzyJ.js";const $={class:"columns-container"},A=["onMouseenter","onMouseleave"],T=C({__name:"HomeView",setup(L){const d=l([]),m=l([]),f=l([]),o=l(window.innerWidth),k=l(!0),y=H(),p=()=>{o.value=window.innerWidth},u=x(()=>o.value>1440?8:o.value>1024?5:o.value>768?3:o.value>440?2:1),b=async()=>{try{k.value=!0;const s=o.value<500?10:40;d.value=await M("best sellers",s),_()}catch(s){console.error("Erro ao buscar livros:",s)}finally{k.value=!1}},_=()=>{if(d.value.length===0)return;const i=d.value.slice(0,40);m.value=Array.from({length:u.value},()=>({books:[],isHovered:!1})),i.forEach((e,n)=>{const a=n%u.value;m.value[a].books.push(e)}),g()},g=()=>{const s=o.value<1025?100:35,i=o.value<1025?12:2,e=Array.from({length:u.value},(n,a)=>s+a*i);f.value=e.sort(()=>Math.random()-.5)},B=s=>{y.push(`/book/${s.id}`)};return D(()=>{b(),window.addEventListener("resize",p)}),(s,i)=>(t(),r("div",$,[k.value?(t(!0),r(c,{key:0},v(u.value,e=>(t(),r("div",{key:e,class:"column"},[(t(),r(c,null,v(5,n=>h("div",{key:n,class:"skeleton-card"})),64))]))),128)):(t(!0),r(c,{key:1},v(m.value,(e,n)=>(t(),r("div",{key:n,class:"column",onMouseenter:a=>e.isHovered=!0,onMouseleave:a=>e.isHovered=!1},[h("div",{class:"scrolling",style:W({animationDuration:`${f.value[n]}s`,animationPlayState:e.isHovered||o.value<500?"paused":"running"})},[(t(!0),r(c,null,v(e.books,(a,w)=>(t(),E(S,{key:w,book:a,onClick:B},null,8,["book"]))),128))],4)],40,A))),128))]))}});export{T as default};
